<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	
<h:head>

<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,600" rel="stylesheet" type="text/css" />
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">
	body {
		padding: 0;
		margin: 0;
		font-size: 12px;
	}	
</style>

</h:head>

<h:body>

<f:view>
<ui:insert name="metadata" />

<h:form id="mainForm">

<h:outputStylesheet library="acm" name="sidemenu.css" target="head" />
<h:outputStylesheet library="acm" name="resources.css" target="head" />

<!-- outputStylesheet will render only the links to the CSS files which do exist -->
<c:forEach items="#{applicationBean.moduleNames}" var="module">
	<h:outputStylesheet name="#{module}/styles.css" library="acm" target="head" />
</c:forEach>


<p:layout styleClass="slimLayout" fullPage="true">
	<p:layoutUnit visible="#{not(request.getParameter('hideMenu') == '1')}" position="west" size="200" styleClass="slimLayoutUnit no-scroll" style="overflow: hidden">
		<p:menu id="side_menu" styleClass="sideMenu" style="height:100%" model="#{modulesBean.menuModel}" />
		<div class="version-info" style="position:relative; top: -30px; height: 30px; padding-left: 8px">
			Version #{applicationBean.versionText}
		</div>
	</p:layoutUnit>
	<p:layoutUnit position="center" styleClass="slimLayoutUnit">
		<div style="margin: 4px">
			<ui:insert name="content" />
		</div>
	</p:layoutUnit>
</p:layout>

</h:form>

</f:view>
</h:body>	

</html>